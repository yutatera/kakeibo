<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
  <title>家計簿</title>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
  <style type="text/css">
    .sidebar {
      top:70px;
      position: -webkit-sticky;
      position: sticky;
    }
    body { padding-top: 70px; }
  </style>
</head>

<body>
  <!--ナビゲーションウィンドウ-->
  <nav class="navbar navbar-expand navbar-dark bg-dark fixed-top">
    <div class="navbar-brand">家計簿</div>
    <div class="navbar-nav">
      <div id="index"><a class="nav-item nav-link active" href="index">推移</a></div>
      <div id="month"><a class="nav-item nav-link" href="month">月毎・年度毎</a></div>
      <div id="future"><a class="nav-item nav-link" href="future">予測</a></div>
    </div>
  </nav>
    
  <div class="container-fluid">
  <div class="row">
    <!--サイドバー-->
    <div class="col-2">
    <div class="sidebar">
    <ul class="nav flex-column">
      <li class="nav-item">
        <span data-feather="settings"></span>
        <span class="navbar-text">期間</span>
      </li>
      <ul class="list-unstyled ml-2">
        <li><select name="dataLen" id="dataLen"></select></li>
      </ul>
      <li class="nav-item">
        <span data-feather="align-left"></span>
        <span class="navbar-text">項目</span>
      </li>
      <ul class="list-unstyled ml-2">
        <li><input type="radio" name="radio" id="asset" value="asset" />資産</li>
        <li><input type="radio" name="radio" id="inout" value="inout"  checked="checked"/>収支</li>
        <li><input type="radio" name="radio" id="in" value="in" />収入項目</li>
        <li><input type="radio" name="radio" id="out1" value="out1" />支出大項目</li>
        <li><input type="radio" name="radio" id="out2" value="out2" />支出小項目</li>
        <li><select name="out2List" id="out2List"></select>
      </ul>
    </ul>
    </div>
    </div>

    <!--メイン-->
    <main role="main" class="col-md-10">
      <h1>推移グラフ</h1>
      <canvas id='graph' height="40%" width="100%"></canvas>
      <h1>推移テーブル</h1>
      <div id="tbl"></div>
    </main>
  </div>
  
  <script>
    url = location.href
    // アイコンの表示
    feather.replace()

    // グラフ・テーブルの更新
    function update(initFlag){
      slct = $('input[name=radio]:checked').val()
      dataLen = $("#dataLen option:selected").val()
      if(slct == "out2"){
        out2Num = $("#out2List option:selected").val();
      }else{
        out2Num = "None"
      }
      // グラフ
      fetch('/getGraph_index/' + slct + "," + out2Num + "," + dataLen).then(function(response) {
        if (url.indexOf('github') >= 0){
          return sampleData['/getGraph_index/' + slct + "," + out2Num + "," + dataLen]
        } else {
          return response.json();
        }
      }).then(function(data) {
        if(initFlag == false){
          window.chart.destroy()
        }
        chart = new Chart('graph', data)
      });

      // テーブル
      fetch('/getTable_index/' + slct + "," + out2Num).then(function(response) {
        if (url.indexOf('github') >= 0){
          return sampleData['/getTable_index/' + slct + "," + out2Num]
        } else {
          return response.json();
        }
      }).then(function(data) {
        $("#tbl").empty();
        var txt = '<table class="table table-striped table-sm table-hover">'
        txt += '<thead><tr align="right">'
        for (var c = 0; c < data[0].length; c++){
          txt += '<th>' + data[0][c] + '</th>'
        }
        txt += '</tr></thead>'
        txt += '<tbody>'
        for (var r = 1; r <= data.length - 1; r++) {
          txt += '<tr align="right">'
          txt += '<td>' + data[r][0] + '</td>'
          for (var c = 1; c < data[0].length; c++){
            txt += '<td>' + data[r][c] + '</td>'
          };
          txt += '</tr>'
        }
        txt += '</tbody>'
        txt += '</table>'
        $('#tbl').append(txt)
      })
    }

    // selectBox(期間)のリスト設定
    i = 0
    for(j of ["2年", "全て"]){
      op = document.createElement("option")
      op.value = i
      op.text = j
      i += 1
      document.getElementById("dataLen").appendChild(op)
    }
    dataLen = $("#dataLen option:selected").val()

    // selectBox(支出小項目)のリスト設定
    fetch('/getOut2').then(function(response) {
      if (url.indexOf('github') >= 0){
        return sampleData["/getOut2"]
      } else {
        return response.json();
      }
    }).then(function(data) {
      for(j = 0; j < data.length; j++){
        op = document.createElement("option");
        op.value = j;
        op.text = data[j]
        document.getElementById("out2List").appendChild(op)
      }
      dataLen = $("#out2List option:selected").val()
    });

    // ラジオボックスチェック時の処理
    $('input[name="radio"]:radio').change(function(){
      update(false)
    });

    // セレクトボックス(支出小項目)変更時の処理
    $("#out2List").change(function(){
      var element = document.getElementById("out2");
      element.checked = true ;
      update(false)
    });

    // セレクトボックス(期間)変更時の処理
    $("#dataLen").change(function(){
      update(false)
    });

    sampleData = {"/getOut2": ["電気", "ガス", "水道", "通信", "住居", "保険", "医療", "食料品", "日用雑貨", "交通", "娯楽", "交際", "その他"], "/getTable_index/asset,None": [["月", "資産"], ["200203", "11,759,281"], ["200202", "11,588,624"], ["200201", "11,740,709"], ["200112", "11,558,777"], ["200111", "11,342,818"], ["200110", "11,348,379"], ["200109", "11,275,755"], ["200108", "11,102,316"], ["200107", "11,123,151"], ["200106", "11,139,297"], ["200105", "11,208,137"], ["200104", "11,203,337"]], "/getGraph_index/asset,None,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "資産", "data": [11203337, 11208137, 11139297, 11123151, 11102316, 11275755, 11348379, 11342818, 11558777, 11740709, 11588624, 11759281]}]}}, "/getGraph_index/asset,None,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "資産", "data": [11203337, 11208137, 11139297, 11123151, 11102316, 11275755, 11348379, 11342818, 11558777, 11740709, 11588624, 11759281]}]}}, "/getTable_index/inout,None": [["月", "収入", "支出", "収支"], ["200203", "743,759", "573,102", "170,657"], ["200202", "641,444", "793,529", "-152,085"], ["200201", "787,369", "605,437", "181,932"], ["200112", "611,871", "395,912", "215,959"], ["200111", "656,037", "661,598", "-5,561"], ["200110", "663,597", "590,973", "72,624"], ["200109", "707,936", "534,497", "173,439"], ["200108", "727,128", "747,963", "-20,835"], ["200107", "699,816", "715,962", "-16,146"], ["200106", "769,985", "838,825", "-68,840"], ["200105", "708,656", "703,856", "4,800"], ["200104", "679,656", "476,319", "203,337"]], "/getGraph_index/inout,None,0": {"type": "bar", "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"type": "line", "fill": false, "borderColor": "rgb(  0,   0, 255)", "label": "収入", "data": [679656, 708656, 769985, 699816, 727128, 707936, 663597, 656037, 611871, 787369, 641444, 743759]}, {"type": "line", "fill": false, "borderColor": "rgb(  0, 203, 255)", "label": "支出", "data": [476319, 703856, 838825, 715962, 747963, 534497, 590973, 661598, 395912, 605437, 793529, 573102]}, {"type": "bar", "backgroundColor": "rgb(255, 255,   0)", "label": "収支", "data": [203337, 4800, -68840, -16146, -20835, 173439, 72624, -5561, 215959, 181932, -152085, 170657]}]}, "options": {"responsive": true, "tooltips": {"mode": "index", "intersect": true}, "elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"ticks": {"beginAtZero": true}}]}}}, "/getGraph_index/inout,None,1": {"type": "bar", "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"type": "line", "fill": false, "borderColor": "rgb(  0,   0, 255)", "label": "収入", "data": [679656, 708656, 769985, 699816, 727128, 707936, 663597, 656037, 611871, 787369, 641444, 743759]}, {"type": "line", "fill": false, "borderColor": "rgb(  0, 203, 255)", "label": "支出", "data": [476319, 703856, 838825, 715962, 747963, 534497, 590973, 661598, 395912, 605437, 793529, 573102]}, {"type": "bar", "backgroundColor": "rgb(255, 255,   0)", "label": "収支", "data": [203337, 4800, -68840, -16146, -20835, 173439, 72624, -5561, 215959, 181932, -152085, 170657]}]}, "options": {"responsive": true, "tooltips": {"mode": "index", "intersect": true}, "elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"ticks": {"beginAtZero": true}}]}}}, "/getTable_index/in,None": [["月", "給与A", "給与B"], ["200203", "556,825", "186,934"], ["200202", "503,374", "138,070"], ["200201", "597,658", "189,711"], ["200112", "507,976", "103,895"], ["200111", "550,631", "105,406"], ["200110", "533,019", "130,578"], ["200109", "561,622", "146,314"], ["200108", "597,550", "129,578"], ["200107", "511,095", "188,721"], ["200106", "582,373", "187,612"], ["200105", "518,426", "190,230"], ["200104", "559,860", "119,796"]], "/getGraph_index/in,None,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "給与A", "data": [559860, 518426, 582373, 511095, 597550, 561622, 533019, 550631, 507976, 597658, 503374, 556825]}, {"fill": "-1", "backgroundColor": "rgba(  0, 203, 255, 0.5)", "borderColor": "rgb(  0, 203, 255)", "label": "給与B", "data": [119796, 190230, 187612, 188721, 129578, 146314, 130578, 105406, 103895, 189711, 138070, 186934]}]}}, "/getGraph_index/in,None,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "給与A", "data": [559860, 518426, 582373, 511095, 597550, 561622, 533019, 550631, 507976, 597658, 503374, 556825]}, {"fill": "-1", "backgroundColor": "rgba(  0, 203, 255, 0.5)", "borderColor": "rgb(  0, 203, 255)", "label": "給与B", "data": [119796, 190230, 187612, 188721, 129578, 146314, 130578, 105406, 103895, 189711, 138070, 186934]}]}}, "/getTable_index/out1,None": [["月", "光熱水", "通信", "住居", "医療・保険", "食料品", "日用雑貨", "交通", "娯楽", "交際"], ["200203", "35,926", "17,442", "187,732", "35,607", "55,858", "14,569", "13,797", "151,324", "44,615"], ["200202", "49,549", "12,547", "148,800", "32,547", "50,581", "16,880", "16,829", "379,089", "75,178"], ["200201", "53,900", "8,088", "100,526", "33,578", "77,249", "18,999", "11,475", "209,903", "73,373"], ["200112", "45,616", "5,950", "132,681", "26,894", "57,925", "11,988", "11,868", "49,108", "42,443"], ["200111", "27,387", "12,190", "190,290", "25,408", "50,393", "19,116", "16,551", "200,355", "100,431"], ["200110", "47,677", "8,287", "155,166", "20,680", "85,205", "10,880", "18,299", "158,297", "69,856"], ["200109", "53,195", "11,476", "124,217", "27,768", "67,232", "17,121", "13,025", "112,366", "90,368"], ["200108", "47,686", "14,106", "154,382", "34,157", "81,656", "19,640", "19,635", "271,976", "88,874"], ["200107", "40,455", "5,252", "187,080", "37,499", "62,065", "18,509", "12,085", "278,341", "61,022"], ["200106", "28,554", "9,278", "169,518", "33,997", "67,624", "17,147", "11,323", "402,174", "82,337"], ["200105", "47,109", "10,241", "167,071", "31,643", "73,135", "12,613", "19,977", "245,336", "86,518"], ["200104", "33,771", "19,764", "130,839", "17,259", "83,461", "19,250", "12,950", "106,084", "36,658"]], "/getGraph_index/out1,None,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "光熱水", "data": [33771, 47109, 28554, 40455, 47686, 53195, 47677, 27387, 45616, 53900, 49549, 35926]}, {"fill": "-1", "backgroundColor": "rgba(  0, 203, 255, 0.5)", "borderColor": "rgb(  0, 203, 255)", "label": "通信", "data": [19764, 10241, 9278, 5252, 14106, 11476, 8287, 12190, 5950, 8088, 12547, 17442]}, {"fill": "-1", "backgroundColor": "rgba(255, 255,   0, 0.5)", "borderColor": "rgb(255, 255,   0)", "label": "住居", "data": [130839, 167071, 169518, 187080, 154382, 124217, 155166, 190290, 132681, 100526, 148800, 187732]}, {"fill": "-1", "backgroundColor": "rgba(216, 255, 204, 0.5)", "borderColor": "rgb(216, 255, 204)", "label": "医療・保険", "data": [17259, 31643, 33997, 37499, 34157, 27768, 20680, 25408, 26894, 33578, 32547, 35607]}, {"fill": "-1", "backgroundColor": "rgba(  0, 255,   0, 0.5)", "borderColor": "rgb(  0, 255,   0)", "label": "食料品", "data": [83461, 73135, 67624, 62065, 81656, 67232, 85205, 50393, 57925, 77249, 50581, 55858]}, {"fill": "-1", "backgroundColor": "rgba(  0, 101,   0, 0.5)", "borderColor": "rgb(  0, 101,   0)", "label": "日用雑貨", "data": [19250, 12613, 17147, 18509, 19640, 17121, 10880, 19116, 11988, 18999, 16880, 14569]}, {"fill": "-1", "backgroundColor": "rgba(255,  63,   0, 0.5)", "borderColor": "rgb(255,  63,   0)", "label": "交通", "data": [12950, 19977, 11323, 12085, 19635, 13025, 18299, 16551, 11868, 11475, 16829, 13797]}, {"fill": "-1", "backgroundColor": "rgba( 203,  0, 203, 0.5)", "borderColor": "rgb( 203,  0, 203)", "label": "娯楽", "data": [106084, 245336, 402174, 278341, 271976, 112366, 158297, 200355, 49108, 209903, 379089, 151324]}, {"fill": "-1", "backgroundColor": "rgba(  0,   0,  50, 0.5)", "borderColor": "rgb(  0,   0,  50)", "label": "交際", "data": [36658, 86518, 82337, 61022, 88874, 90368, 69856, 100431, 42443, 73373, 75178, 44615]}]}}, "/getGraph_index/out1,None,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "光熱水", "data": [33771, 47109, 28554, 40455, 47686, 53195, 47677, 27387, 45616, 53900, 49549, 35926]}, {"fill": "-1", "backgroundColor": "rgba(  0, 203, 255, 0.5)", "borderColor": "rgb(  0, 203, 255)", "label": "通信", "data": [19764, 10241, 9278, 5252, 14106, 11476, 8287, 12190, 5950, 8088, 12547, 17442]}, {"fill": "-1", "backgroundColor": "rgba(255, 255,   0, 0.5)", "borderColor": "rgb(255, 255,   0)", "label": "住居", "data": [130839, 167071, 169518, 187080, 154382, 124217, 155166, 190290, 132681, 100526, 148800, 187732]}, {"fill": "-1", "backgroundColor": "rgba(216, 255, 204, 0.5)", "borderColor": "rgb(216, 255, 204)", "label": "医療・保険", "data": [17259, 31643, 33997, 37499, 34157, 27768, 20680, 25408, 26894, 33578, 32547, 35607]}, {"fill": "-1", "backgroundColor": "rgba(  0, 255,   0, 0.5)", "borderColor": "rgb(  0, 255,   0)", "label": "食料品", "data": [83461, 73135, 67624, 62065, 81656, 67232, 85205, 50393, 57925, 77249, 50581, 55858]}, {"fill": "-1", "backgroundColor": "rgba(  0, 101,   0, 0.5)", "borderColor": "rgb(  0, 101,   0)", "label": "日用雑貨", "data": [19250, 12613, 17147, 18509, 19640, 17121, 10880, 19116, 11988, 18999, 16880, 14569]}, {"fill": "-1", "backgroundColor": "rgba(255,  63,   0, 0.5)", "borderColor": "rgb(255,  63,   0)", "label": "交通", "data": [12950, 19977, 11323, 12085, 19635, 13025, 18299, 16551, 11868, 11475, 16829, 13797]}, {"fill": "-1", "backgroundColor": "rgba( 203,  0, 203, 0.5)", "borderColor": "rgb( 203,  0, 203)", "label": "娯楽", "data": [106084, 245336, 402174, 278341, 271976, 112366, 158297, 200355, 49108, 209903, 379089, 151324]}, {"fill": "-1", "backgroundColor": "rgba(  0,   0,  50, 0.5)", "borderColor": "rgb(  0,   0,  50)", "label": "交際", "data": [36658, 86518, 82337, 61022, 88874, 90368, 69856, 100431, 42443, 73373, 75178, 44615]}]}}, "/getTable_index/out2,0": [["月", "電気"], ["200203", "4,647"], ["200202", "17,957"], ["200201", "19,009"], ["200112", "15,881"], ["200111", "13,102"], ["200110", "15,785"], ["200109", "18,821"], ["200108", "15,732"], ["200107", "14,177"], ["200106", "6,350"], ["200105", "17,180"], ["200104", "13,813"]], "/getGraph_index/out2,0,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "電気", "data": [13813, 17180, 6350, 14177, 15732, 18821, 15785, 13102, 15881, 19009, 17957, 4647]}]}}, "/getGraph_index/out2,0,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "電気", "data": [13813, 17180, 6350, 14177, 15732, 18821, 15785, 13102, 15881, 19009, 17957, 4647]}]}}, "/getTable_index/out2,1": [["月", "ガス"], ["200203", "12,480"], ["200202", "17,018"], ["200201", "16,361"], ["200112", "18,013"], ["200111", "8,477"], ["200110", "14,887"], ["200109", "18,846"], ["200108", "13,840"], ["200107", "18,528"], ["200106", "12,307"], ["200105", "12,593"], ["200104", "13,799"]], "/getGraph_index/out2,1,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "ガス", "data": [13799, 12593, 12307, 18528, 13840, 18846, 14887, 8477, 18013, 16361, 17018, 12480]}]}}, "/getGraph_index/out2,1,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "ガス", "data": [13799, 12593, 12307, 18528, 13840, 18846, 14887, 8477, 18013, 16361, 17018, 12480]}]}}, "/getTable_index/out2,2": [["月", "水道"], ["200203", "18,799"], ["200202", "14,574"], ["200201", "18,530"], ["200112", "11,722"], ["200111", "5,808"], ["200110", "17,005"], ["200109", "15,528"], ["200108", "18,114"], ["200107", "7,750"], ["200106", "9,897"], ["200105", "17,336"], ["200104", "6,159"]], "/getGraph_index/out2,2,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "水道", "data": [6159, 17336, 9897, 7750, 18114, 15528, 17005, 5808, 11722, 18530, 14574, 18799]}]}}, "/getGraph_index/out2,2,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "水道", "data": [6159, 17336, 9897, 7750, 18114, 15528, 17005, 5808, 11722, 18530, 14574, 18799]}]}}, "/getTable_index/out2,3": [["月", "通信"], ["200203", "17,442"], ["200202", "12,547"], ["200201", "8,088"], ["200112", "5,950"], ["200111", "12,190"], ["200110", "8,287"], ["200109", "11,476"], ["200108", "14,106"], ["200107", "5,252"], ["200106", "9,278"], ["200105", "10,241"], ["200104", "19,764"]], "/getGraph_index/out2,3,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "通信", "data": [19764, 10241, 9278, 5252, 14106, 11476, 8287, 12190, 5950, 8088, 12547, 17442]}]}}, "/getGraph_index/out2,3,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "通信", "data": [19764, 10241, 9278, 5252, 14106, 11476, 8287, 12190, 5950, 8088, 12547, 17442]}]}}, "/getTable_index/out2,4": [["月", "住居"], ["200203", "187,732"], ["200202", "148,800"], ["200201", "100,526"], ["200112", "132,681"], ["200111", "190,290"], ["200110", "155,166"], ["200109", "124,217"], ["200108", "154,382"], ["200107", "187,080"], ["200106", "169,518"], ["200105", "167,071"], ["200104", "130,839"]], "/getGraph_index/out2,4,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "住居", "data": [130839, 167071, 169518, 187080, 154382, 124217, 155166, 190290, 132681, 100526, 148800, 187732]}]}}, "/getGraph_index/out2,4,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "住居", "data": [130839, 167071, 169518, 187080, 154382, 124217, 155166, 190290, 132681, 100526, 148800, 187732]}]}}, "/getTable_index/out2,5": [["月", "保険"], ["200203", "18,682"], ["200202", "17,026"], ["200201", "15,727"], ["200112", "13,511"], ["200111", "10,389"], ["200110", "13,094"], ["200109", "13,896"], ["200108", "17,058"], ["200107", "19,296"], ["200106", "19,414"], ["200105", "16,792"], ["200104", "11,155"]], "/getGraph_index/out2,5,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "保険", "data": [11155, 16792, 19414, 19296, 17058, 13896, 13094, 10389, 13511, 15727, 17026, 18682]}]}}, "/getGraph_index/out2,5,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "保険", "data": [11155, 16792, 19414, 19296, 17058, 13896, 13094, 10389, 13511, 15727, 17026, 18682]}]}}, "/getTable_index/out2,6": [["月", "医療"], ["200203", "16,925"], ["200202", "15,521"], ["200201", "17,851"], ["200112", "13,383"], ["200111", "15,019"], ["200110", "7,586"], ["200109", "13,872"], ["200108", "17,099"], ["200107", "18,203"], ["200106", "14,583"], ["200105", "14,851"], ["200104", "6,104"]], "/getGraph_index/out2,6,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "医療", "data": [6104, 14851, 14583, 18203, 17099, 13872, 7586, 15019, 13383, 17851, 15521, 16925]}]}}, "/getGraph_index/out2,6,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "医療", "data": [6104, 14851, 14583, 18203, 17099, 13872, 7586, 15019, 13383, 17851, 15521, 16925]}]}}, "/getTable_index/out2,7": [["月", "食料品"], ["200203", "55,858"], ["200202", "50,581"], ["200201", "77,249"], ["200112", "57,925"], ["200111", "50,393"], ["200110", "85,205"], ["200109", "67,232"], ["200108", "81,656"], ["200107", "62,065"], ["200106", "67,624"], ["200105", "73,135"], ["200104", "83,461"]], "/getGraph_index/out2,7,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "食料品", "data": [83461, 73135, 67624, 62065, 81656, 67232, 85205, 50393, 57925, 77249, 50581, 55858]}]}}, "/getGraph_index/out2,7,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "食料品", "data": [83461, 73135, 67624, 62065, 81656, 67232, 85205, 50393, 57925, 77249, 50581, 55858]}]}}, "/getTable_index/out2,8": [["月", "日用雑貨"], ["200203", "14,569"], ["200202", "16,880"], ["200201", "18,999"], ["200112", "11,988"], ["200111", "19,116"], ["200110", "10,880"], ["200109", "17,121"], ["200108", "19,640"], ["200107", "18,509"], ["200106", "17,147"], ["200105", "12,613"], ["200104", "19,250"]], "/getGraph_index/out2,8,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "日用雑貨", "data": [19250, 12613, 17147, 18509, 19640, 17121, 10880, 19116, 11988, 18999, 16880, 14569]}]}}, "/getGraph_index/out2,8,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "日用雑貨", "data": [19250, 12613, 17147, 18509, 19640, 17121, 10880, 19116, 11988, 18999, 16880, 14569]}]}}, "/getTable_index/out2,9": [["月", "交通"], ["200203", "13,797"], ["200202", "16,829"], ["200201", "11,475"], ["200112", "11,868"], ["200111", "16,551"], ["200110", "18,299"], ["200109", "13,025"], ["200108", "19,635"], ["200107", "12,085"], ["200106", "11,323"], ["200105", "19,977"], ["200104", "12,950"]], "/getGraph_index/out2,9,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "交通", "data": [12950, 19977, 11323, 12085, 19635, 13025, 18299, 16551, 11868, 11475, 16829, 13797]}]}}, "/getGraph_index/out2,9,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "交通", "data": [12950, 19977, 11323, 12085, 19635, 13025, 18299, 16551, 11868, 11475, 16829, 13797]}]}}, "/getTable_index/out2,10": [["月", "娯楽"], ["200203", "151,324"], ["200202", "379,089"], ["200201", "209,903"], ["200112", "49,108"], ["200111", "200,355"], ["200110", "158,297"], ["200109", "112,366"], ["200108", "271,976"], ["200107", "278,341"], ["200106", "402,174"], ["200105", "245,336"], ["200104", "106,084"]], "/getGraph_index/out2,10,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "娯楽", "data": [106084, 245336, 402174, 278341, 271976, 112366, 158297, 200355, 49108, 209903, 379089, 151324]}]}}, "/getGraph_index/out2,10,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "娯楽", "data": [106084, 245336, 402174, 278341, 271976, 112366, 158297, 200355, 49108, 209903, 379089, 151324]}]}}, "/getTable_index/out2,11": [["月", "交際"], ["200203", "44,615"], ["200202", "75,178"], ["200201", "73,373"], ["200112", "42,443"], ["200111", "100,431"], ["200110", "69,856"], ["200109", "90,368"], ["200108", "88,874"], ["200107", "61,022"], ["200106", "82,337"], ["200105", "86,518"], ["200104", "36,658"]], "/getGraph_index/out2,11,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "交際", "data": [36658, 86518, 82337, 61022, 88874, 90368, 69856, 100431, 42443, 73373, 75178, 44615]}]}}, "/getGraph_index/out2,11,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "交際", "data": [36658, 86518, 82337, 61022, 88874, 90368, 69856, 100431, 42443, 73373, 75178, 44615]}]}}, "/getTable_index/out2,12": [["月", "その他"], ["200203", "16,232"], ["200202", "11,529"], ["200201", "18,346"], ["200112", "11,439"], ["200111", "19,477"], ["200110", "16,626"], ["200109", "17,729"], ["200108", "15,851"], ["200107", "13,654"], ["200106", "16,873"], ["200105", "10,213"], ["200104", "16,283"]], "/getGraph_index/out2,12,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "その他", "data": [16283, 10213, 16873, 13654, 15851, 17729, 16626, 19477, 11439, 18346, 11529, 16232]}]}}, "/getGraph_index/out2,12,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.1}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "その他", "data": [16283, 10213, 16873, 13654, 15851, 17729, 16626, 19477, 11439, 18346, 11529, 16232]}]}}}
    // 初期表示
    update(true)
  </script>
</body>
</html>
